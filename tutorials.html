<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <title>AtlasWBP - Tutorials</title>
    <link rel="shortcut icon" href="./favicon.ico" type="image/x-icon">
    <link rel="icon" href="./favicon.ico" type="image/x-icon">

    <script>if(window.location.protocol != "https:") { window.location.href = "https:" + window.location.href.substring(window.location.protocol.length); }</script>
  </head>

  <body>
    <div id="container">
      <div class="inner">

        <header>
          <h1>AtlasWBP</h1>
          <h2>An Atlas frontend plugin for processing Java WAR binaries</h2>
          <br />
          <center>
            <b><a href="./index.html">Home</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="./install.html">Install</a>&nbsp;&nbsp;&nbsp;&nbsp;Tutorials</b>
          </center>
        </header>
        <center>
            <b><a href="#Setup">Setup</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="#Configuration">Configuration</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="#WARProcessing">Processing a WAR</a></b>
        </center>
        
        <hr>

        <section id="main_content">

        <h3><a name="Setup" class="anchor" href="#Setup"><span class="octicon octicon-link"></span></a>Setup</h3>
        <p>If you haven't already, <a href="./install.html">install</a> the WAR Binary Processing plugin into Eclipse.</p>

        <h3><a name="Configuration" class="anchor" href="#Configuration"><span class="octicon octicon-link"></span></a>Configuration</h3>
        <p>A JSP file cannot be directly converted to Jimple, the JSP files must be translated (precompiled) to Java Class files first. AtlasWBP uses a configurable ANT task to precompile the JSPs to Class files given an appropriate translator (i.e. Tomcat Server). After the Ant build task has completed the directory tree will look something like the following.</p>
		<pre><code>|-META-INF
|---MANIFEST.MF
|-WEB-INF
|---classes
|-----com
|-------example
|---------demo
|-----------SomeObject.class
|-----org
|-------apache
|---------jsp
|-----------default_jsp.class
|-----------...
|---lib
|-----mysql-connector-bin.jar
|-css
|--..
|-img
|--..
|-js
|--..
|-myjsps
|---default.jsp</code></pre>
        <p>To clearly represent the application byte code in the project the contents of the <code>classes</code> directory are compressed into a single <code>classes.jar</code> JAR file at the root of the <code>WEB-INF</code> directory. The AtlasWBP plugin then converts the <code>classes.jar</code> file to Jimple using Soot and writes the resulting Jimple source to a new <code>WEB-INF/jimple</code> directory. These contents are included in an Eclipse Java project file that is indexable by Atlas for Jimple.<p>
        <p>Since the implementation specific classes for each translator are not included in compiled WAR file, you must provide them and an Ant task to precompile the WAR with the dependent classes in order for the AtlasWBP plugin to decompile the WAR completely.  The required support files for the current Tomcat releases (6, 7, and 8 at the time of this writing) are available below, if you don't care about the specifics of which translator the WAR will run on then just use one of the provided support packages.</p>
        <ul>
          <li><a href="./supplemental_files/apache-tomcat-6.0.44-translator-support.zip">apache-tomcat-6.0.44-translator-support.zip</a></li>
          <li><a href="./supplemental_files/apache-tomcat-7.0.63-translator-support.zip">apache-tomcat-7.0.63-translator-support.zip</a></li>
          <li><a href="./supplemental_files/apache-tomcat-8.0.24-translator-support.zip">apache-tomcat-8.0.24-translator-support.zip</a></li>
        </ul>
        <p>Before processing a WAR binary, you should remember to change your translator preferences by navigating in Eclipse to <code>Eclipse</code>-><code>Preferences...</code>-><code>WBP</code>. Select the location of the translator directory and the ANT build task. The build task file for each of the provided Tomcat translators is included as the <code>compile-jsp.xml</code> file.</p>
        <img src="./images/preferences.png" alt="WBP Preferences"/>
        <p>Older versions of Tomcat can be found in the archives for major versions <a href="https://archive.apache.org/dist/tomcat/tomcat-6/">6</a>, <a href="https://archive.apache.org/dist/tomcat/tomcat-7/">7</a>, and <a href="https://archive.apache.org/dist/tomcat/tomcat-8/">8</a>.  IBM's Websphere has not been tested but a precompilation build task should be straightforward enough (see <a href="http://stackoverflow.com/a/1163816/475329">ref1</a>, <a href="https://www-01.ibm.com/support/knowledgecenter/SSEQTP_8.5.5/com.ibm.websphere.nd.doc/ae/tovr_ant.html">ref2</a>, <a href="http://www-01.ibm.com/support/knowledgecenter/SSCKBL_8.0.0/com.ibm.websphere.javadoc.doc/web/apidocs/com/ibm/websphere/ant/tasks/JspC.html">ref3</a>).</p>

        <h3><a name="WARProcessing" class="anchor" href="#WARProcessing"><span class="octicon octicon-link"></span></a>Processing a WAR</h3>
        <p>To process a WAR file simply use the <code>WAR Binary Project</code> import wizard. In Eclipse navigate to <code>File</code>-><code>Import</code>-><code>WBP</code>-><code>WAR Binary Project</code>. Note that information, warnings, and errors will be reported to the Eclipse Error Log (navigate to <code>Window</code>-><code>Show View</code>-><code>Error Log</code>.</p>
        <p>A sample WAR file for a vulnerable webserver application can be found at <a href="https://github.com/benjholla/LoginSideChannels">https://github.com/benjholla/LoginSideChannels</a>.</p>
        
        <img src="./images/import_wizard_1.png" alt="Import Wizard Step 1"/>
        <br/>
        <img src="./images/import_wizard_2.png" alt="Import Wizard Step 2"/>

        <footer>
          Tactile theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.
        </footer>

      </div>
    </div>
  </body>
</html>